name: REUSE Compliance Check

on:
  # Trigger the workflow on push or pull request,
  # but only for the main branch
  push:
    branches:
      - master
      - feat/switch-to-github-actions
  pull_request:
    branches:
      - master

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - name: REUSE Compliance Check
      uses: fsfe/reuse-action@v1
      with:
        args: --include-submodules lint
  # run-builds:
  #   strategy:
  #     matrix:
  #       os: [ubuntu-latest]
  #       node-version: [14.x]  # TODO: run for all versions
  #   runs-on: ${{ matrix.os }}

  #   steps:
  #     - name: Checkout code repository
  #       uses: actions/checkout@v3
  #       with:
  #         fetch-depth: 0    # will fetch all history
  #     - name: Run install
  #       uses: borales/actions-yarn@v4
  #       with:
  #         cmd: install # will run `yarn install` command
  #       # env:
  #       #   NODE_AUTH_TOKEN: ${{ secrets.NPM_TOKEN }} # if needed
  #     - name: Run build
  #       uses: borales/actions-yarn@v4
  #       with:
  #         cmd: run ci # will run `yarn run ci` command